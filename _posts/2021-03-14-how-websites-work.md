프런트엔드로만 구성된 웹사이트.

컴퓨터에서 웹 브라우저를 실행시킨 다음 주소창에 django,com 이라는 주소를 입력해 검색을 한다면
웹 브라우저는 인터넷에 접속해서 그 주소를 가진 서버 컴퓨터에 요청을 보낸다. 서버에서 그러면 index.html을 찾아서 보내주고
웹 브라우저는 index.html 을 받아서 렌더링해서 화면에 보여준다. 
이런 웹사이트는 단순하지만 운영자가 일방적으로 정보를 제공할 수만 있을 뿐, 방문자의 행동을
저장하고 보여줄 수 없다. 웹사이트 관리자는 새로운 내용을 추가하려면 html파일을 수정해야 한다. 
그래서 웹사이트는 데이터베이스를 활용한다. 

데이터베이스에는 사용자 계정, 게시글과 댓글, 조회수, 추천수 같은 정보를 수시로 저장할 수 있다. 
그리고 html에 빈칸이 있는 탬플릿을 만들어놓고 필요한 정보를 데이터베이스에서 수시로 불러와서
보여줄 수 있다. 

웹사이트는 방문자들이 가입해서 계정을 만들고 사용자가 원할 때 계정 정보를 보여주고 계정 정보를 수정하거나 삭제하는 기능이 공통적으로 필요하다.

웹사이트는 create, read, update, delete 의 네 기능이 필수로 들어간다. (CRUD)
생성, 조회, 수정, 삭제

장고의 작동 구조

먼저 클라이언트(브라우저) 는 django.com (예시) 라는 이름의 서버를 찾아간다.
우선 urls.py를 요청해서 개발자가 써놓은 내용을 확인한다. urls에서 언급하는 함수 또는 클래스는 views.py에서 정의한다. 게시글에 대한 내용은 models.py에서 정의한다. models.py에서 정의한 모델에 맞게 데이터베이스에서 필요한 자료를 가져온다. 데이터베이스에서 가져온 자료를 템플릿의 빈 칸에 채워서 사용자의 웹 브라우저로 보낸다. 

장고로 만든 웹사이트는 model로 자료의 형태를 정의하고 view로 어떤 자료를 어떤 동작으로 보여줄지 정의하고 template으로 웹페이지에서 출력한 모습을 정의한다. 이런 작동구조를 MTV패턴이라고 한다. 
이렇게 분리해서 웹사이트 기능을 관리함으로써 프런트엔드 개발자는 화면 구성에 집중할 수 있고
잭엔드 개발자는 화면 뒤의 작업에 집중할 수 있다. 

pycharm으로 가상환경을 만들려면 settings에서 더해주면 된다.

가상환경을 사용하는 이유

만약 다른 프로젝트도 별도로 진행하고 있다면 웹사이트 개발을 위해 설치한 외부 모듈이 파이썬 개발환경 전체에 영향을 줄 때 관계가 없는 프로젝트에 의도하지 않은 영향을 끼칠 수도 있다. 
가상환경은 이를 방지해준다.

리눅스 계열의 서버 - 우분투, 페도라

venv\Scripts\acivate.bat
pip list

pip install django
django-admin startproject project .

urls.py - 사용자가 어떤 url형식으로 접근했을 때 어떻게 웹 사이트를 작동시킬지를 정리해 놓음.
settings.py - 장고 프로젝트의 설정을 담고 있는 파일
장고에서 마이그레이션이란 데이터베이스에 적용시켜야 하는 변화에 대한 기록이다.
예를 들어 댓글작성 기능을 추가 한다면 데이터베이스에 댓글을 저장하기 위한 공간이 필요하다.
장고는 새 프로젝트를 생성할 때 데이터베이스에 기본적으로 필요한 테이블을 미리 마련해 둔다.

python manage.py migrations
python manage.py migrate

현재는 아직 데이터베이스를 만들지 않은 상태이므로 db.sqlite3 파일이 새로 생성되고 
그 안에 마이그레이션을 반영한 데이터베이스가 생성된다. 

sqLite3의 특징은 파일 하나로 관리하는 데이터베이스라는 점이다. 
오라클, MongoDB, MySQL 등은 따로 복잡한 설치 과정을 거쳐야 한다.
그리고 백업을 하기 위해서는 데이터베이스에 대한 지식을 갖고 있어야 한다. 
이에 비해 sqlite3는 파일 하나만 관리하면 되고 백업하고 싶으면 안전한 곳에 복사해 놓으면 된다.

단점은, 파일 기반의 데이터베이스이기 때문에 읽고 쓰기가 빈번하게 일어나는 대형 프로젝트에서는 불리하다. 수천, 수만 명의 사용자가 동시에 몰리는 웹사이트에는 적합하지 않다. 

python manage.py createsuperuser
